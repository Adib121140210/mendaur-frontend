# ğŸ¨ Redemption History - User Interface Guide

## ğŸ“± What Users Will See

### 1. **Riwayat Transaksi Page** (History Page)
Navigate to: **Riwayat Transaksi** from sidebar

---

## ğŸ¯ Redemption Card States

### â³ **PENDING Status** (Waiting for Approval)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Penukaran Tas Ramah Lingkungan      -500 poin â†“â”‚
â”‚ Penukaran Produk                            â”‚
â”‚                                             â”‚
â”‚ ğŸ“¦ Tas Ramah Lingkungan                     â”‚
â”‚                                             â”‚
â”‚ ğŸ“… 18 Nov 2025    ğŸ•’ 10:30                 â”‚
â”‚ ğŸ”„ Menunggu Persetujuan                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Visual Details:**
- Orange RefreshCcw icon
- Yellow/orange badge
- No special instructions yet

---

### âœ… **APPROVED Status** (Ready to Claim)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Penukaran Tas Ramah Lingkungan        -500 poin â†“  â”‚
â”‚ Penukaran Produk                                    â”‚
â”‚                                                     â”‚
â”‚ ğŸ“¦ Tas Ramah Lingkungan                             â”‚
â”‚                                                     â”‚
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—    â”‚
â”‚ â•‘ âœ“ Silakan datang ke kantor Bank Sampah     â•‘    â”‚
â”‚ â•‘   untuk mengambil produk                    â•‘    â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚                                                     â”‚
â”‚ ğŸ“… 18 Nov 2025    ğŸ•’ 10:30                         â”‚
â”‚ âœ“ Disetujui - Siap Diambil                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Visual Details:**
- **Gradient green box** with claim instructions
- Left border in dark green (#047857)
- Green CheckCircle icon
- Green "Disetujui - Siap Diambil" badge
- Prominent and easy to spot

---

### ğŸ‰ **CLAIMED Status** (Already Picked Up)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Penukaran Tas Ramah Lingkungan  -500 poin â†“â”‚
â”‚ Penukaran Produk                            â”‚
â”‚                                             â”‚
â”‚ ğŸ“¦ Tas Ramah Lingkungan                     â”‚
â”‚                                             â”‚
â”‚ âœ“ Diambil pada 20 Nov 2025                 â”‚
â”‚   (Light green background)                  â”‚
â”‚                                             â”‚
â”‚ ğŸ“… 18 Nov 2025    ğŸ•’ 10:30                 â”‚
â”‚ âœ“ Sudah Diambil                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Visual Details:**
- Light green success badge showing pickup date
- Green CheckCircle icon in status
- Completed appearance

---

### âŒ **REJECTED Status** (Request Denied)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Penukaran Tas Ramah Lingkungan  -500 poin â†“â”‚
â”‚ Penukaran Produk                            â”‚
â”‚                                             â”‚
â”‚ ğŸ“¦ Tas Ramah Lingkungan                     â”‚
â”‚                                             â”‚
â”‚ âš  Alasan: Stok produk tidak tersedia       â”‚
â”‚   (Light red background)                    â”‚
â”‚                                             â”‚
â”‚ ğŸ“… 18 Nov 2025    ğŸ•’ 10:30                 â”‚
â”‚ âœ— Ditolak                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Visual Details:**
- Red warning badge with admin note
- Red XCircle icon
- Clear rejection reason from admin

---

## ğŸ” Filter & Search Features

### Status Filter Dropdown
Users can filter by:
- **Semua** - All transactions
- **Pending** - Waiting for approval
- **Approved** - Ready to claim
- **Claimed** - Already picked up
- **Rejected** - Denied requests
- (Plus other status types like shipped, delivered, etc.)

### Category Filter Buttons
- **Semua** - All activities
- **Setoran** - Waste deposits (green checkmark)
- **Penukaran** - All redemptions including products (red X icon)

### Search Box
- Type product name to find specific redemptions
- Real-time filtering as you type
- Search icon on the left

---

## ğŸ¨ Color Coding

### Status Colors
- **Pending/Diproses**: ğŸŸ¡ Orange/Yellow
- **Approved/Selesai/Claimed**: ğŸŸ¢ Green
- **Rejected/Cancelled**: ğŸ”´ Red
- **Shipped/Dikirim**: ğŸ”µ Blue
- **Default**: âš« Gray

### Claim Instructions Box
- **Background**: Linear gradient from #d1fae5 (light green) to #a7f3d0 (mint green)
- **Border**: 3px solid #047857 (dark green) on the left
- **Text**: #065f46 (very dark green)
- **Icon**: #047857 (dark green)

---

## ğŸ“Š Sample Scenarios

### Scenario 1: User Makes First Redemption
1. User redeems "Tas Ramah Lingkungan" for 500 points
2. Sees **pending** card in Riwayat with orange status
3. Waits for admin approval

### Scenario 2: Admin Approves Request
1. Admin approves the redemption in backend
2. User refreshes Riwayat page
3. Sees beautiful **green claim instructions box**
4. Goes to Bank Sampah office to pick up

### Scenario 3: User Claims Product
1. User brings ID to office
2. Admin verifies and hands over product
3. Admin marks as "claimed" in system
4. User sees **success badge** with pickup date

### Scenario 4: Request Gets Rejected
1. Admin finds issue (out of stock, duplicate request, etc.)
2. Admin rejects with reason
3. User sees **red admin note** explaining why
4. User can make new request if issue resolved

---

## ğŸ› ï¸ Technical Notes

### API Endpoint
```
GET http://127.0.0.1:8000/api/penukaran-produk
Authorization: Bearer {token}
```

### Required Backend Response
```json
{
  "status": "success",
  "data": [
    {
      "id": 1,
      "user_id": 123,
      "produk_id": 5,
      "nama_produk": "Tas Ramah Lingkungan",
      "jumlah_poin": 500,
      "jumlah": 1,
      "status": "approved",
      "catatan_admin": null,
      "created_at": "2025-11-18T10:30:00.000Z",
      "approved_at": "2025-11-18T14:00:00.000Z",
      "claimed_at": null,
      "rejected_at": null
    }
  ]
}
```

### Status Workflow
```
pending â†’ approved â†’ claimed
           â†“
        rejected
```

---

## âœ¨ Key Features

### âœ… Real-Time Updates
- Refresh page to see status changes
- No page reload needed for filters

### âœ… Clear Visual Hierarchy
- Most important info (claim instructions) stands out
- Color coding helps quick identification
- Icons provide visual cues

### âœ… Mobile Responsive
- Cards stack nicely on small screens
- Touch-friendly buttons
- Readable text sizes

### âœ… Accessibility
- High contrast colors
- Clear status labels
- Icon + text combinations

---

## ğŸ“± User Actions

### What Users Can Do:
1. âœ… View all redemption requests
2. âœ… Filter by status (pending, approved, claimed, rejected)
3. âœ… Search by product name
4. âœ… See claim instructions when approved
5. âœ… Check rejection reasons
6. âœ… View pickup dates for claimed items
7. âœ… See transaction date/time
8. âœ… Track points spent

### What Users Cannot Do (Yet):
- âŒ Cancel pending requests
- âŒ Download history as PDF
- âŒ Upload proof of pickup
- âŒ Rate products after claiming
- âŒ Re-request rejected items directly

---

## ğŸ¯ Business Logic

### For Users:
- **Pending**: "Your request is being reviewed"
- **Approved**: "Come pick up your product!"
- **Claimed**: "You already got this item"
- **Rejected**: "Request denied - see reason"

### For Admins (Backend):
- Approve requests â†’ Set status to "approved"
- Reject requests â†’ Set status to "rejected" + add catatan_admin
- Mark as claimed â†’ Set status to "claimed" + update claimed_at timestamp

---

## ğŸš€ Ready to Use!

**Frontend Status**: âœ… **100% Complete**
- All UI components implemented
- Responsive design working
- Filter & search functional
- Status badges styled
- Claim instructions designed

**Backend Status**: â³ **Needs Implementation**
- Create GET endpoint: `/api/penukaran-produk`
- Return user's redemptions with product details
- Support authentication via Bearer token
- Include all status fields

**Testing**: Ready once backend endpoint is live!

